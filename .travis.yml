language: ruby
script: bundle exec rake spec:$SUITE
bundler_args: "--without=vagrant"
rvm:
  - ruby-1.9.3
  # - rbx-19mode
  # - ruby-2.0.0 - generates "Cannot find Syck parser for YAML"
notifications:
  email:
    recipients:
      - drnicwilliams@gmail.com
    on_success: change
    on_failure: always
env:
  matrix:
    - SUITE=unit
    # - SUITE=cookbooks
    - SUITE=integration:aws:basic
  global:
    - secure: "HB69lnKRSopQgW/1fFZtYsdTsLLRhQVXm0w2y8OIGNOI1+d1uViOsRbCI8Ww\nTg/8lCpRkk3ICjx+Sc0hXYWCX5l2r0qK9aqNMMIUilfrR8UDEPQ94aprz99j\nGq1wOugGD6CvxWmY3ktfv/HlZ4mb7y1tQXcewJjQF2EW7AtxwCs="
# matrix:
#   allow_failures:
#     - env: SUITE=integration:aws:basic
